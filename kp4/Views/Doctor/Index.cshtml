@model IEnumerable<kp4.Models.Doctor>

@*<div class="search_box">
        <div class="search_content">
            @using (Ajax.BeginForm("Search", new AjaxOptions
            {
            UpdateTargetId = "results",
            LoadingElementId = "loading"
            }))
            {
            <label for="text">Фамилия</label>
            <input id="text" type="text" name="GName" />
            <input type="submit" value="Поиск" />
            }
        </div>
    </div>
    <div id="results">*@

@*@{ if (User.IsInRole("admin"))
    {
        <p />
        <p />
        <a href="/Doctor/Create">Добавить врача</a>
    }
}*@

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.last_name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.patronymic)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.cabinet)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.spec)
        </th>
        @if (User.IsInRole("admin"))
        {
            <th>
                @Html.DisplayNameFor(model => model.login)
            </th>
        }


        <th></th>
    </tr>

    @foreach (var item in Model)
    {
<tr>
    <td>
        @Html.DisplayFor(modelItem => item.last_name)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.name)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.patronymic)
    </td>

    <td>
        @Html.DisplayFor(modelItem => item.cabinet)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.spec)
    </td>
    @if (User.IsInRole("admin"))
    {
        <th>
            @Html.DisplayFor(modelItem => item.login)
        </th>
    }
    <td>
        @if (User.IsInRole("patient"))
        {
            @Html.ActionLink("Записаться", "AddEntry", new { iddoctor = item.id })
        }
        @if (User.IsInRole("admin"))
        {
            @Html.ActionLink("Edit | ", "Edit", new { id = item.id })
            @Html.ActionLink("Details | ", "Details", new { id = item.id })
           
            //@Html.ActionLink("Delete", "Delete", new { id = item.id })
        }







    </td>
</tr>
    }

</table>
@*</div>*@
